## Docker란?
- 컨테이너 기반의 오픈소스 가상화 플랫폼
- 다양한 프로그램, 실행환경을 컨테이너로 추상화하고 동일한 인터페이스를 제공해 프로그램의 배포 및 관리를 단순하게 한다.

## 컨테이너
- Docker에서 가장 핵심이 되는 개념!
- 프로그램과 그 프로그램이 필요한 모든 설정이나 파일을 하나의 상자처럼 묶은 것

## 이미지
- 컨테이너를 만들기 위해 필요한 설계도 같은 개념
- 즉, 컨테이너 실행에 필요한 파일과 설정값 등을 포함하고 있는 것

## 레이어
- 도커 이미지는 컨테이너를 실행하기 위한 모든 정보를 가지고 있기 때문에 용량이 매우 클 수 있다.
- 이런 문제를 해결하기 위해 등장한 개념
- 도커의 이미지는 여러 레이어로 구성되어 있다. 
- 도커의 레이어는 변경된 부분만 기록한다. 만약 기존 이미지에서 웹 서버를 최신 버전으로 바꾼다면, 도커는 전체 이미지를 새로 만드는 대신, 기존 레이어 위에 새롭게 업데이트된 웹 서버 레이어만 쌓는다.
- 즉, 레이어는 이미지를 구성하는 개별적인 단계!

## Dockerfile
- [도커파일(Dockerfile) 의 개념, 작성 방법/문법, 작성 예시](https://toramko.tistory.com/entry/docker-%EB%8F%84%EC%BB%A4%ED%8C%8C%EC%9D%BCDockerfile-%EC%9D%98-%EA%B0%9C%EB%85%90-%EC%9E%91%EC%84%B1-%EB%B0%A9%EB%B2%95%EB%AC%B8%EB%B2%95-%EC%9E%91%EC%84%B1-%EC%98%88%EC%8B%9C)
- 이미지를 만들기 위한 설정 파일

| 명령어        | 설명                                                                                                                        |
| ---------- | ------------------------------------------------------------------------------------------------------------------------- |
| FROM       | base 이미지 설정                                                                                                               |
| WORKDIR    | - 작업 디렉토리를 지정한다. 해당 디렉토리가 없으면 새로 생성<br>- 작업 디렉토리를 지정하면 그 이후 명령어는 해당 디렉토리를 기준으로 동작한다.                                      |
| RUN<br>    | - 새로운 레이어에서 명령어를 실행하고, 새로운 이미지를 생성한다.<br>- RUN 명령어 실행시마다 레이어가 생성되고 캐시된다.<br>- 이미지를 빌드할 때 실행                               |
| CMD        | - 컨테이너가 시작될 때 실행할 커맨드를 지정                                                                                                 |
| ENTRYPOINT | - 컨테이너가 시작될 때 실행될 커맨드                                                                                                     |
| EXPOSE     | - 컨테이너가 실행될 때 컨테이너로 들어오는 트래픽을 특정 포트(port)로 받아들일 수 있도록(listen) 지정하는 역할<br>- 컨테이너 생성 시 -p 옵션의 컨테이너 포트 값으로 EXPOSE 값을 적어야 한다. |
| COPY       | - host 내에 있는 파일 또는 디렉토리를 컨테이너의 파일 시스템으로 복사<br>- --chown 옵션으로 파일과 디렉토리에 대한 소유 권한을 지정할 수 있다                                 |
| ADD        | - 파일 또는 디렉토리를 컨테이너로 복사<br>- COPY와 거의 동일하나, ADD는 host 내에 있는 파일 외에도 경로를 지정해 remote 파일/디렉토리를 복사해올 수 있다                       |
| ENV        | - 컨테이너 실행 시점에 사용할 환경 변수를 설정하는 키워드                                                                                         |
| ARG        | - 빌드 시점에만 사용할 수 있는 변수<br>- ARG로 설정된 값은 이미지가 빌드된 후에는 유지되지 않으며, 컨테이너 실행 시점에서는 사용할 수 없다                                      |
| USER       | - 컨테이너 안에서 명령을 실행할 유저명, 유저그룹을 지정<br>- 기본적으로 컨테이너는 root 계정으로 실행되는데 이를 사용자계정 등으로 변경하기 위함                                    |
